{
    "Settings":
    {
        "TankServer":
        {
            "http_port": 8080,
            "http_threads_number": 2,

            "udp_port": 8080,
            "udp_threads_number": 2,
            
            "ServoController":
            {
                "servodPath":  "/usr/local/sbin/servod",
                "ctrlFile": "/dev/servoblaster",

                "minValue": 70,
                "maxValue": 230,
                
                "Servos":
                {
                    "cam_horz":
                    {
                        "pin": 12,
                        "pinnames": {},
                        "trim": 3,
                        "type": "move",
                        "value": 150
                    },
                    "cam_vert":
                    {
                        "pin": 11,
                        "pinnames": {},
                        "trim": 3,
                        "type": "move",
                        "value": 100
                    },
                    "left_engine":
                    {
                        "pin": 0,
                        "pinnames": {"run":"leftrun", "back":"leftback"},
                        "trim": 0,
                        "type": "gpio",
                        "value": 0
                    },
                    "right_engine":
                    {
                        "pin": 0,
                        "pinnames": {"run":"rightrun", "back":"rightback"},
                        "trim": 0,
                        "type": "gpio",
                        "value": 0
                    }

                }
            },
            
            "GpioController":
            {
                "basePath": "/sys/class/gpio",
                "Pins":
                {
                    "leftrun" : { "dir": "out", "pin": 12 },
                    "leftback" : { "dir": "out", "pin": 16 },
                    "rightrun" : { "dir": "out", "pin": 20 },
                    "rightback" : { "dir": "out", "pin": 21 }
                }
            },
            
            "ArduinoController":
            {
                "port": "/dev/ttyUSB0", 
                "speed": 19200, 
                "timeout": 0.1, 
                "Init": 
                [
                    { "cmd": "battery", "args": { "act": "configure", "minValue": 100, "maxValue": 900 } },
                    { "cmd": "gun", "args": { "act": "power", "value": 0 } },    
                    { "cmd": "gun", "args": { "act": "configure", "fireIncrement": 8, "fireMaxPwm": 128 } }    
                ],
                "Deinit": 
                [
                    { "cmd": "gun", "args": { "act": "power", "value": 0 } }    
                ]
            },
            
            "SwitchController":
            {
            },

            "VideoController":
            {
                "listenHost": "192.168.1.3",
                "PortRange": { "first": 5000, "last": 5090 },
                "wight": "640",
                "height": "480",
                "bitrate": "1000000",
                "fps": "15",
                "Devices":
                {
                    "main": "raspivid"
                }

            },
            "SoundController":
            {
                "periodSize": 100
            }
        }
    },

    "Logging":
    {
        "root":
        {
            "handlers": ["common", "console"],
            "level": 0
        },

        "handlers":
        {
            "console": 
            {
                "class": "logging.StreamHandler",
                "formatter": "common"
            },
            "common":
            {
                "class": "logging.handlers.RotatingFileHandler",
                "formatter": "common",
                "filename": "trace.log", 
                "mode": "w",
                "maxBytes": 10485760,
                "backupCount": 5
            }
        },

        "formatters":
        {
            "common":
            {
                "format": "%(asctime)s: %(threadName)s - %(name)s - %(levelname)s - %(message)s",
                "class": "logging.Formatter"
            }
        }
    }
}